<div *ngIf="book" class="container mt-4">
  <div class="row">
    <div class="col-md-4">
      <img
        [src]="book.coverImage ? 'data:image/jpeg;base64,' + book.base64img : ''"
        alt="{{ book.title }}"
        class="img-fluid rounded shadow-sm"
      />
    </div>
    <div class="col-md-8">
      <h2>{{ book.title }}</h2>
      <p class="text-muted">Author: {{ book.authorName }} </p>
      <p> Price: {{book.price}}</p>
      <div class="mb-3">
        <app-average-rating [bookId]="book.bookID"></app-average-rating>
      </div>
      <p class="lead">{{ book.description }}</p>
      <app-add-to-cart [bookId]="book.bookID"></app-add-to-cart>
      <button class="readbtn" (click)="loadSampleChapter()" *ngIf="book.bookID">
        <i ></i> Read Sample Chapter
      </button>
      <div class="mt-4">
        <app-reviews-by-book-id [bookId]="book.bookID"></app-reviews-by-book-id>
      </div>
    </div>
  </div>

  <div *ngIf="sampleChapterUrl" class="iframe-popup-container" id="iframePopupContainer">
    <div class="iframe-popup-content">
      <button class="close-button" (click)="closeSampleChapterPopup()">X</button>
      <iframe
      [src]="sampleChapterUrl"
      width="80%"
      height="80%"
      style="border: none; filter: invert(0%); -webkit-filter: invert(0%);"
      type="application/pdf" 
       id="pdf_content"

    >
    </iframe>


    </div>
  </div>
</div>